!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):"object"==typeof exports?exports.kmeans=n():t.kmeans=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=e(3),o=e(1),u=r(o),s=e(2),c=r(s);n.Point=c.default,n.Cluster=u.default,n.default=function(t,n){var e=n.nbClusters,r=n.initCentroids,o=i.initClusters(t,{nbClusters:e,initCentroids:r}),u=function(t){i.assignToNearestCluster(o,t)};do o.forEach(function(t){return t.dirty=!1}),t.forEach(u),o.forEach(function(t){return t.computeCentroid()});while(o.some(function(t){return t.dirty}));return o}},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e(2),u=r(o),s=function(){function t(n){i(this,t),this.centroid=n,this.points=[],this.dirty=!1}return t.prototype.contains=function(t){for(var n=this.points.length-1;n>=0;n--)if(this.points[n].equals(t))return!0;return!1},t.prototype.addPoint=function(t){this.points.push(t),t.cluster&&t.cluster.removePoint(t),t.cluster=this,this.dirty=!0},t.prototype.removePoint=function(t){this.points.splice(this.points.indexOf(t),1),this.dirty=!0},t.prototype.computeCentroid=function(){this.centroid=new u.default(this.points.map(function(t){return t.x}).reduce(function(t,n){return t+n})/this.points.length,this.points.map(function(t){return t.y}).reduce(function(t,n){return t+n})/this.points.length,this.points.map(function(t){return t.z}).reduce(function(t,n){return t+n})/this.points.length)},t}();n.default=s,t.exports=n.default},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=function(){function t(n,r,i){e(this,t),this.x=n,this.y=r,this.z=i,this.cluster=null}return t.prototype.distanceTo=function(t){var n=t.x-this.x,e=t.y-this.y,r=t.z-this.z;return Math.sqrt(n*n+e*e+r*r)},t.prototype.distanceToCentroid=function(){return this.cluster?this.distanceTo(this.cluster.centroid):null},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},t}();n.default=r,t.exports=n.default},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,n){function e(t){for(var n=o.length-1;n>=0;n--)if(o[n].centroid.equals(t))return!0;return!1}var r=n.nbClusters,i=n.initCentroids,o=[],s=t.slice();if(r){for(var f=u.unique(s),a=r-1;a>=0;a--){var l=f();if(e(l))a++;else{var d=new c.default(l);o.push(d)}}if(o.length!==r)throw Error("Not enough different point coordinates to create clusters")}else i&&(o=i.map(function(t){return new c.default(t)}));return o}function o(t,n){for(var e=null,r=null,i=t.length-1;i>=0;i--){var o=t[i],u=n.distanceTo(o.centroid);(null===e||e>u)&&(e=u,r=o)}n.cluster!==r&&r.addPoint(n)}n.__esModule=!0,n.initClusters=i,n.assignToNearestCluster=o;var u=e(4),s=e(1),c=r(s)},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=e(5),o=r(i);n.default={unique:o.default},t.exports=n.default},function(t,n){"use strict";function e(t,n,e){var r=t[n];t[n]=t[e],t[e]=r}function r(t){var n=t.length;return function(){var r=Math.random()*n--|0,i=t[r];return e(t,r,n),i}}n.__esModule=!0,n.default=r,t.exports=n.default}])});